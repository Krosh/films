{"version":3,"sources":["../../../app/routes/note_routes.js"],"names":[],"mappings":"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","file":"note_routes.js","sourcesContent":["var ObjectID = require('mongodb').ObjectID;\r\nmodule.exports = function (app, db) {\r\n\r\n    app.post('/add-film/', (req, res) => {\r\n        const movie = {title: req.headers.title, description: req.headers.description, image: req.headers.image, rating: req.headers.rating, tags: req.headers.tags};\r\n        db.collection('films').insert(movie, (err, result) => {\r\n            if (err) {\r\n                res.send({'error': 'An error has occurred'});\r\n            } else {\r\n                res.send(result.ops[0]);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.get('/films/:id', (req, res) => {\r\n        const id = req.params.id;\r\n        const details = {'_id': new ObjectID(id)};\r\n        db.collection('films').findOne(details, (err, item) => {\r\n            if (err) {\r\n                res.send({'error': 'An error has occurred'});\r\n            } else {\r\n                res.send(item);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.get('/films/', (req, res) => {\r\n        db.collection(\"films\").find({}).toArray(function(err, result) {\r\n            if (err) throw err;\r\n            res.send(result);\r\n            console.log(result);\r\n            db.close();\r\n        });\r\n\r\n    });\r\n\r\n\r\n    app.get('/users/:id', (req, res) => {\r\n        const id = req.params.id;\r\n        const details = {'_id': new ObjectID(id)};\r\n        db.collection('users').findOne(details, (err, item) => {\r\n            if (err) {\r\n                res.send({'error': 'An error has occurred'});\r\n            } else {\r\n                res.send(item);\r\n            }\r\n        });\r\n    });\r\n\r\n\r\n    app.post('/add-user/', (req, res) => {\r\n        const user = {title: req.headers.title, movie: req.headers.description, rating: req.headers.rating};\r\n        db.collection('films').insert(user, (err, result) => {\r\n            if (err) {\r\n                res.send({'error': 'An error has occurred'});\r\n            } else {\r\n                res.send(result.ops[0]);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.get('/users/', (req, res) => {\r\n        db.collection(\"users\").find({}).toArray(function(err, result) {\r\n            if (err) throw err;\r\n            res.send(result);\r\n            console.log(result);\r\n            db.close();\r\n        });\r\n\r\n    });\r\n\r\n};"]}